  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (3.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (41.4ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (2.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'[0m
  [1m[35mSQL (2.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (2.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110425155733)
Migrating to CreateRestaurants (20110425160954)
Migrating to CreateRestaurantCuisines (20110425161047)
Migrating to CreateRestaurantLabels (20110425161134)
Migrating to CreateRestaurantCuisineAssociations (20110425163703)
Migrating to CreateRestaurantLabelAssociations (20110425163811)
Migrating to CreateMenuItems (20110425163934)
Migrating to CreateMenuItemPrices (20110425164110)
Migrating to CreateIngredients (20110425164202)
Migrating to CreateMenuItemIngredients (20110425164411)
Migrating to CreateMenuItemPhotos (20110425164523)
Migrating to CreateMenuLabels (20110425164621)
Migrating to CreateMenuLabelAssociations (20110425164728)
Migrating to CreateMenuItemRatings (20110425164855)
Migrating to CreateMenuItemRatingHelpfuls (20110425165014)
Migrating to CreateMenuItemReviewComments (20110425165231)
Migrating to AddLatitudeLongitudeToRestaurant (20110425203609)
Migrating to AddLatitudeLongitudeToRestaurants (20110504025631)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (10.5ms)[0m  [1mALTER TABLE "restaurants" ADD COLUMN "latitude" float[0m
PGError: ERROR:  column "latitude" of relation "restaurants" already exists
: ALTER TABLE "restaurants" ADD COLUMN "latitude" float
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (2.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'[0m
  [1m[35mSQL (2.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110425155733)
Migrating to CreateRestaurants (20110425160954)
Migrating to CreateRestaurantCuisines (20110425161047)
Migrating to CreateRestaurantLabels (20110425161134)
Migrating to CreateRestaurantCuisineAssociations (20110425163703)
Migrating to CreateRestaurantLabelAssociations (20110425163811)
Migrating to CreateMenuItems (20110425163934)
Migrating to CreateMenuItemPrices (20110425164110)
Migrating to CreateIngredients (20110425164202)
Migrating to CreateMenuItemIngredients (20110425164411)
Migrating to CreateMenuItemPhotos (20110425164523)
Migrating to CreateMenuLabels (20110425164621)
Migrating to CreateMenuLabelAssociations (20110425164728)
Migrating to CreateMenuItemRatings (20110425164855)
Migrating to CreateMenuItemRatingHelpfuls (20110425165014)
Migrating to CreateMenuItemReviewComments (20110425165231)
Migrating to AddLatitudeLongitudeToRestaurant (20110425203609)
Migrating to AddLatitudeLongitudeToRestaurants (20110504025631)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mALTER TABLE "restaurants" ADD COLUMN "latitude" float[0m
PGError: ERROR:  column "latitude" of relation "restaurants" already exists
: ALTER TABLE "restaurants" ADD COLUMN "latitude" float
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (32.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (85.4ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (4.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 
  [1m[36mSQL (1.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'
PGError: ERROR:  relation "geometry_columns" does not exist
LINE 1: SELECT * FROM geometry_columns WHERE f_table_name = 'schema_...
                      ^
: SELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (3.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.4ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'[0m
PGError: ERROR:  relation "geometry_columns" does not exist
LINE 1: SELECT * FROM geometry_columns WHERE f_table_name = 'schema_...
                      ^
: SELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (2.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.4ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'[0m
  [1m[35mSQL (2.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110425155733)
Migrating to CreateRestaurants (20110425160954)
Migrating to CreateRestaurantCuisines (20110425161047)
Migrating to CreateRestaurantLabels (20110425161134)
Migrating to CreateRestaurantCuisineAssociations (20110425163703)
Migrating to CreateRestaurantLabelAssociations (20110425163811)
Migrating to CreateMenuItems (20110425163934)
Migrating to CreateMenuItemPrices (20110425164110)
Migrating to CreateIngredients (20110425164202)
Migrating to CreateMenuItemIngredients (20110425164411)
Migrating to CreateMenuItemPhotos (20110425164523)
Migrating to CreateMenuLabels (20110425164621)
Migrating to CreateMenuLabelAssociations (20110425164728)
Migrating to CreateMenuItemRatings (20110425164855)
Migrating to CreateMenuItemRatingHelpfuls (20110425165014)
Migrating to CreateMenuItemReviewComments (20110425165231)
Migrating to AddLatitudeLongitudeToRestaurant (20110425203609)
Migrating to AddLatitudeLongitudeToRestaurants (20110504025631)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "restaurants" ADD COLUMN "latitude" float[0m
PGError: ERROR:  column "latitude" of relation "restaurants" already exists
: ALTER TABLE "restaurants" ADD COLUMN "latitude" float
  [1m[35mSQL (0.1ms)[0m  ROLLBACK


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:32:03 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.5ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by RestaurantsController#index as HTML
  [1m[36mSQL (3.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
[0m
  [1m[35mSQL (1.6ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (3.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 36ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x102f9a260>):
  app/controllers/restaurants_controller.rb:5:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (78.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (84.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:32:05 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mSQL (0.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 10ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x1035f6bb8>):
  app/controllers/restaurants_controller.rb:5:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:32:06 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x1031831d0>):
  app/controllers/restaurants_controller.rb:5:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (74.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (80.1ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:37:35 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (63.9ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (6096.8ms)
Completed 200 OK in 6439ms (Views: 6122.3ms | ActiveRecord: 65.3ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:37:42 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (31.4ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (7601.5ms)
Completed 200 OK in 7897ms (Views: 7607.1ms | ActiveRecord: 32.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:37:51 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (30.4ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (6507.1ms)
Completed 200 OK in 6938ms (Views: 6514.3ms | ActiveRecord: 31.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:37:58 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (31.9ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (6231.8ms)
Completed 200 OK in 6520ms (Views: 6237.5ms | ActiveRecord: 33.3ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:39:12 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (33.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0872664625997165)*COS(0.10471975511966)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0872664625997165)*SIN(0.10471975511966)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0872664625997165)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (5975.9ms)
Completed 200 OK in 6282ms (Views: 5983.5ms | ActiveRecord: 34.5ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:39:19 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (30.9ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0872664625997165)*COS(0.10471975511966)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0872664625997165)*SIN(0.10471975511966)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0872664625997165)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (5716.3ms)
Completed 200 OK in 6172ms (Views: 5721.6ms | ActiveRecord: 32.1ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:41:40 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mSQL (0.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x107aaf250>):
  app/controllers/restaurants_controller.rb:5:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:41:56 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x10784c508>):
  app/controllers/restaurants_controller.rb:6:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:41:57 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mSQL (0.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x1076633e0>):
  app/controllers/restaurants_controller.rb:6:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (130.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (135.7ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:42:05 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x107c23708>):
  app/controllers/restaurants_controller.rb:6:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:44:10 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (37.7ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (5555.9ms)
Completed 200 OK in 5851ms (Views: 5561.9ms | ActiveRecord: 39.0ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 21:52:40 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (170.3ms)
Completed 200 OK in 198ms (Views: 176.1ms | ActiveRecord: 13.5ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 22:02:24 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (12.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (50.9ms)
Completed 200 OK in 78ms (Views: 56.3ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat" for 127.0.0.1 at Tue May 03 22:02:24 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>nil}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (45.3ms)
Completed 200 OK in 73ms (Views: 51.1ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=" for 127.0.0.1 at Tue May 03 22:02:24 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>""}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 74ms (Views: 52.7ms | ActiveRecord: 13.5ms)


Started GET "/restaurants?lat=37.77859" for 127.0.0.1 at Tue May 03 22:02:25 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77859"}
  [1m[36mRestaurant Load (12.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (44.8ms)
Completed 200 OK in 72ms (Views: 50.4ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=37.77859&" for 127.0.0.1 at Tue May 03 22:02:26 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77859"}
  [1m[35mRestaurant Load (13.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (44.1ms)
Completed 200 OK in 73ms (Views: 49.9ms | ActiveRecord: 14.6ms)


Started GET "/restaurants?lat=37.77859&long=" for 127.0.0.1 at Tue May 03 22:02:27 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77859", "long"=>""}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (45.7ms)
Completed 200 OK in 74ms (Views: 51.5ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=37.77859&long=-122.39142" for 127.0.0.1 at Tue May 03 22:02:40 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77859", "long"=>"-122.39142"}
  [1m[35mRestaurant Load (12.1ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (46.1ms)
Completed 200 OK in 75ms (Views: 51.8ms | ActiveRecord: 13.7ms)


Started GET "/restaurants?lat=37.77859&long=-122.39142" for 127.0.0.1 at Tue May 03 22:02:44 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77859", "long"=>"-122.39142"}
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659360782261005)*COS(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659360782261005)*SIN(-2.13613325519124)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659360782261005)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (46.1ms)
Completed 200 OK in 74ms (Views: 52.0ms | ActiveRecord: 13.3ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 22:03:26 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (12.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (52.2ms)
Completed 200 OK in 80ms (Views: 57.7ms | ActiveRecord: 13.2ms)


Started GET "/restaurants?37.79959,%20-122.44454" for 127.0.0.1 at Tue May 03 22:03:27 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"37.79959, -122.44454"=>nil}
  [1m[36mRestaurant Load (12.3ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.1ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (48.2ms)
Completed 200 OK in 77ms (Views: 54.0ms | ActiveRecord: 13.9ms)


Started GET "/restaurants?l37.79959,%20-122.44454" for 127.0.0.1 at Tue May 03 22:03:29 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"l37.79959, -122.44454"=>nil}
  [1m[35mRestaurant Load (12.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (44.0ms)
Completed 200 OK in 72ms (Views: 49.6ms | ActiveRecord: 13.3ms)


Started GET "/restaurants?lat=37.79959,%20-122.44454" for 127.0.0.1 at Tue May 03 22:03:29 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.79959, -122.44454"}
  [1m[36mRestaurant Load (12.3ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (47.0ms)
Completed 200 OK in 76ms (Views: 52.5ms | ActiveRecord: 14.2ms)


Started GET "/restaurants?lat=37.79959,-122.44454" for 127.0.0.1 at Tue May 03 22:03:30 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.79959,-122.44454"}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 78ms (Views: 54.0ms | ActiveRecord: 13.6ms)


Started GET "/restaurants?lat=37.79959-122.44454" for 127.0.0.1 at Tue May 03 22:03:31 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.79959-122.44454"}
  [1m[36mRestaurant Load (12.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 74ms (Views: 52.1ms | ActiveRecord: 13.5ms)


Started GET "/restaurants?lat=37.79959&-122.44454" for 127.0.0.1 at Tue May 03 22:03:31 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"-122.44454"=>nil, "lat"=>"37.79959"}
  [1m[35mRestaurant Load (12.1ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (45.2ms)
Completed 200 OK in 73ms (Views: 50.7ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:03:32 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.79959", "long"=>"-122.44454"}
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 75ms (Views: 53.0ms | ActiveRecord: 13.3ms)


Started GET "/restaurants.?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:18 -0700 2011

ActionController::RoutingError (No route matches "/restaurants."):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants.json?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:19 -0700 2011
  Processing by RestaurantsController#index as JSON
  Parameters: {"lat"=>"37.79959", "long"=>"-122.44454"}
  [1m[35mRestaurant Load (15.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed 200 OK in 75ms (Views: 47.0ms | ActiveRecord: 16.5ms)


Started GET "/restaurants.jso?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:26 -0700 2011
  Processing by RestaurantsController#index as 
  Parameters: {"lat"=>"37.79959", "long"=>"-122.44454"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
Completed 406 Not Acceptable in 20ms


Started GET "/restaurants.js?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:26 -0700 2011
  Processing by RestaurantsController#index as JS
  Parameters: {"lat"=>"37.79959", "long"=>"-122.44454"}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
Completed 406 Not Acceptable in 20ms


Started GET "/restaurants.?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:26 -0700 2011

ActionController::RoutingError (No route matches "/restaurants."):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants?lat=37.79959&long=-122.44454" for 127.0.0.1 at Tue May 03 22:12:27 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.79959", "long"=>"-122.44454"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659727301403923)*COS(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659727301403923)*SIN(-2.1370603740899)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659727301403923)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (65.1ms)
Completed 200 OK in 92ms (Views: 70.6ms | ActiveRecord: 37.7ms)


Started GET "/restaurants?lat=37.7205,%20-122.5064" for 127.0.0.1 at Tue May 03 22:19:25 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205, -122.5064"}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 76ms (Views: 53.0ms | ActiveRecord: 13.5ms)


Started GET "/restaurants?lat=37.7205,-122.5064" for 127.0.0.1 at Tue May 03 22:19:27 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205,-122.5064"}
  [1m[36mRestaurant Load (12.4ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (46.1ms)
Completed 200 OK in 76ms (Views: 53.1ms | ActiveRecord: 13.7ms)


Started GET "/restaurants?lat=37.7205-122.5064" for 127.0.0.1 at Tue May 03 22:19:28 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205-122.5064"}
  [1m[35mRestaurant Load (12.6ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (46.4ms)
Completed 200 OK in 75ms (Views: 52.0ms | ActiveRecord: 13.9ms)


Started GET "/restaurants?lat=37.7205&-122.5064" for 127.0.0.1 at Tue May 03 22:19:28 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"-122.5064"=>nil, "lat"=>"37.7205"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (51.0ms)
Completed 200 OK in 78ms (Views: 56.6ms | ActiveRecord: 13.3ms)


Started GET "/restaurants?lat=37.7205&long-122.5064" for 127.0.0.1 at Tue May 03 22:19:28 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"long-122.5064"=>nil, "lat"=>"37.7205"}
  [1m[35mRestaurant Load (12.5ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (45.7ms)
Completed 200 OK in 75ms (Views: 51.6ms | ActiveRecord: 13.8ms)


Started GET "/restaurants?lat=37.7205&long=-122.5064" for 127.0.0.1 at Tue May 03 22:19:29 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205", "long"=>"-122.5064"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.658346920498521)*COS(-2.13814003476518)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.658346920498521)*SIN(-2.13814003476518)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.658346920498521)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (46.2ms)
Completed 200 OK in 73ms (Views: 51.8ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=37.7205&long=-122.5064" for 127.0.0.1 at Tue May 03 22:20:59 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205", "long"=>"-122.5064"}
  [1m[35mSQL (0.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x107c78820>):
  app/controllers/restaurants_controller.rb:12:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/restaurants?lat=37.7205&long=-122.5064" for 127.0.0.1 at Tue May 03 22:21:07 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.7205", "long"=>"-122.5064"}
  [1m[36mSQL (0.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restaurants'
 
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 9ms

NoMethodError (undefined method `merge_conditions' for #<Class:0x107a366c0>):
  app/controllers/restaurants_controller.rb:12:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.1ms)


Started GET "/restaurants" for 127.0.0.1 at Tue May 03 22:25:53 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (12.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (152.1ms)
Completed 200 OK in 179ms (Views: 157.7ms | ActiveRecord: 13.3ms)


Started GET "/restaurants37.80014,%20-122.44128" for 127.0.0.1 at Tue May 03 22:25:55 -0700 2011

ActionController::RoutingError (No route matches "/restaurants37.80014,%20-122.44128"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants?37.80014,%20-122.44128" for 127.0.0.1 at Tue May 03 22:25:57 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"37.80014, -122.44128"=>nil}
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (138.9ms)
Completed 200 OK in 166ms (Views: 144.8ms | ActiveRecord: 13.3ms)


Started GET "/restaurants?lat=37.80014,%20-122.44128" for 127.0.0.1 at Tue May 03 22:25:58 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.80014, -122.44128"}
  [1m[35mRestaurant Load (12.3ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659736900714809)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659736900714809)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659736900714809)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (128.4ms)
Completed 200 OK in 156ms (Views: 134.3ms | ActiveRecord: 13.6ms)


Started GET "/restaurants?lat=37.80014,-122.44128" for 127.0.0.1 at Tue May 03 22:26:01 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.80014,-122.44128"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659736900714809)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659736900714809)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659736900714809)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (139.6ms)
Completed 200 OK in 167ms (Views: 145.5ms | ActiveRecord: 13.4ms)


Started GET "/restaurants?lat=37.80014-122.44128" for 127.0.0.1 at Tue May 03 22:26:01 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.80014-122.44128"}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659736900714809)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659736900714809)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659736900714809)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (141.3ms)
Completed 200 OK in 175ms (Views: 147.0ms | ActiveRecord: 13.6ms)


Started GET "/restaurants?lat=37.80014&-122.44128" for 127.0.0.1 at Tue May 03 22:26:01 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"-122.44128"=>nil, "lat"=>"37.80014"}
  [1m[36mRestaurant Load (12.6ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659736900714809)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659736900714809)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659736900714809)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.6ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (153.2ms)
Completed 200 OK in 192ms (Views: 159.3ms | ActiveRecord: 14.1ms)


Started GET "/restaurants?lat=37.80014&long=-122.44128" for 127.0.0.1 at Tue May 03 22:26:02 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.80014", "long"=>"-122.44128"}
  [1m[35mRestaurant Load (12.1ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659736900714809)*COS(-2.13700347635628)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659736900714809)*SIN(-2.13700347635628)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659736900714809)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (142.8ms)
Completed 200 OK in 170ms (Views: 148.5ms | ActiveRecord: 13.4ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 22:36:04 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[36mRestaurant Load (14.4ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
Rendered menu_items/index.html.erb within layouts/application (20.5ms)
Completed   in 51ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    11:     <th></th>
    12:   </tr>
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2211820440_0'
  app/controllers/menu_items_controller.rb:16:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (93.4ms)
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (36.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (134.4ms)


Started GET "/menu_items/" for 127.0.0.1 at Tue May 03 22:36:05 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[35mRestaurant Load (12.1ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
Rendered menu_items/index.html.erb within layouts/application (0.7ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    11:     <th></th>
    12:   </tr>
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2211915880_0'
  app/controllers/menu_items_controller.rb:16:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (132.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (138.4ms)


Started GET "/menu_items/2000" for 127.0.0.1 at Tue May 03 22:36:08 -0700 2011
  Processing by MenuItemsController#show as HTML
  Parameters: {"id"=>"2000"}
  [1m[36mSQL (1.6ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (65.5ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE "menu_items"."id" = 2000 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/show.html.erb within layouts/application (12.8ms)
Completed 200 OK in 97ms (Views: 21.4ms | ActiveRecord: 70.6ms)


Started GET "/menu_items/1.xml" for 127.0.0.1 at Tue May 03 22:36:08 -0700 2011
  Processing by MenuItemsController#show as XML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mMenuItem Load (14.3ms)[0m  [1mSELECT "menu_items".* FROM "menu_items" WHERE "menu_items"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed 200 OK in 184ms (Views: 162.5ms | ActiveRecord: 16.6ms)
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (3.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.4ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'schema_migrations'[0m
  [1m[35mSQL (2.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110425155733)
Migrating to CreateRestaurants (20110425160954)
Migrating to CreateRestaurantCuisines (20110425161047)
Migrating to CreateRestaurantLabels (20110425161134)
Migrating to CreateRestaurantCuisineAssociations (20110425163703)
Migrating to CreateRestaurantLabelAssociations (20110425163811)
Migrating to CreateMenuItems (20110425163934)
Migrating to CreateMenuItemPrices (20110425164110)
Migrating to CreateIngredients (20110425164202)
Migrating to CreateMenuItemIngredients (20110425164411)
Migrating to CreateMenuItemPhotos (20110425164523)
Migrating to CreateMenuLabels (20110425164621)
Migrating to CreateMenuLabelAssociations (20110425164728)
Migrating to CreateMenuItemRatings (20110425164855)
Migrating to CreateMenuItemRatingHelpfuls (20110425165014)
Migrating to CreateMenuItemReviewComments (20110425165231)
Migrating to AddLatitudeLongitudeToRestaurant (20110425203609)
Migrating to AddLatitudeLongitudeToRestaurants (20110504025631)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mALTER TABLE "restaurants" ADD COLUMN "latitude" float[0m
PGError: ERROR:  column "latitude" of relation "restaurants" already exists
: ALTER TABLE "restaurants" ADD COLUMN "latitude" float
  [1m[35mSQL (0.1ms)[0m  ROLLBACK


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:06:11 -0700 2011
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.4ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.5ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
Completed   in 129ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:06:13 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)


Started GET "/menu_items?lat=" for 127.0.0.1 at Tue May 03 23:06:14 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>""}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:07:19 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/menu_items/1.xml" for 127.0.0.1 at Tue May 03 23:07:20 -0700 2011
  Processing by MenuItemsController#show as XML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (4.2ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (2.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (2.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (0.8ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE "menu_items"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed 200 OK in 58ms (Views: 39.5ms | ActiveRecord: 10.7ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:07:21 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.1ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:07:21 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/menu_items?lat=" for 127.0.0.1 at Tue May 03 23:07:22 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>""}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (81.4ms)


Started GET "/menu_items?lat=37.77864,%20-122.39139" for 127.0.0.1 at Tue May 03 23:07:22 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864, -122.39139"}
Completed   in 7ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/menu_items?lat=37.77864,-122.39139" for 127.0.0.1 at Tue May 03 23:07:25 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864,-122.39139"}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (79.0ms)


Started GET "/menu_items?lat=37.77864-122.39139" for 127.0.0.1 at Tue May 03 23:07:25 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864-122.39139"}
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.0ms)


Started GET "/menu_items?lat=37.77864&-122.39139" for 127.0.0.1 at Tue May 03 23:07:25 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"-122.39139"=>nil, "lat"=>"37.77864"}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (76.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (82.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:07:26 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:22 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (75.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (81.7ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:24 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
Completed   in 5ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started GET "/menu_item?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:27 -0700 2011

ActionController::RoutingError (No route matches "/menu_item"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (3.2ms)


Started GET "/menu?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:29 -0700 2011

ActionController::RoutingError (No route matches "/menu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/menu_item?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:29 -0700 2011

ActionController::RoutingError (No route matches "/menu_item"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/menu_ite?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:32 -0700 2011

ActionController::RoutingError (No route matches "/menu_ite"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/restaurants?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:34 -0700 2011
  Processing by RestaurantsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (17.6ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (109.1ms)
Completed 200 OK in 162ms (Views: 115.6ms | ActiveRecord: 19.1ms)


Started GET "/m?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:37 -0700 2011

ActionController::RoutingError (No route matches "/m"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/menu?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:37 -0700 2011

ActionController::RoutingError (No route matches "/menu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/menu_item?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:37 -0700 2011

ActionController::RoutingError (No route matches "/menu_item"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:08:41 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
Completed   in 6ms

ArgumentError (Unknown key(s): origin):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:14:50 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected tASSOC, expecting '}'
...taurants => { :all, :origin => [@lat, @long], :order=>'dista...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...all, :origin => [@lat, @long], :order=>'distance asc', :limi...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...long], :order=>'distance asc', :limit => 5 } })
                              ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:15:09 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected tASSOC, expecting '}'
...taurants => { :all, :origin => [@lat, @long], :order=>'dista...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...all, :origin => [@lat, @long], :order=>'distance asc', :limi...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...long], :order=>'distance asc', :limit => 5 } })
                              ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:15:11 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected tASSOC, expecting '}'
...taurants => { :all, :origin => [@lat, @long], :order=>'dista...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...all, :origin => [@lat, @long], :order=>'distance asc', :limi...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...long], :order=>'distance asc', :limit => 5 } })
                              ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:17:21 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected tASSOC, expecting '}'
...taurants => { :all, :origin => [@lat, @long], :order => 'dis...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...all, :origin => [@lat, @long], :order => 'distance asc', :li...
                              ^
/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:16: syntax error, unexpected ',', expecting kEND
...ng], :order => 'distance asc', :limit => 5 } })
                              ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.8ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:17:35 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (0.6ms)[0m  SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurant.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'
PGError: ERROR:  missing FROM-clause entry for table "restaurant"
LINE 1: ...ms".* FROM "menu_items" INNER JOIN restaurants ON restaurant...
                                                             ^
: SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurant.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'
Completed   in 42ms

ActiveRecord::StatementInvalid (PGError: ERROR:  missing FROM-clause entry for table "restaurant"
LINE 1: ...ms".* FROM "menu_items" INNER JOIN restaurants ON restaurant...
                                                             ^
: SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurant.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (81.4ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:19:39 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mMenuItem Load (0.6ms)[0m  [1mSELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurants.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'[0m
PGError: ERROR:  column restaurants.limit does not exist
LINE 1: ...N restaurants.id = menu_items.restaurant_id WHERE "restauran...
                                                             ^
: SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurants.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'
Completed   in 10ms

ActiveRecord::StatementInvalid (PGError: ERROR:  column restaurants.limit does not exist
LINE 1: ...N restaurants.id = menu_items.restaurant_id WHERE "restauran...
                                                             ^
: SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurants.id = menu_items.restaurant_id WHERE "restaurants"."limit" = 5 AND "restaurants"."origin" IN (37.77864, -122.39139) AND "restaurants"."order" = 'distance asc'):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:20:21 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mMenuItem Load (1090.4ms)[0m  SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurants.id = menu_items.restaurant_id
Completed   in 26268ms


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:37:11 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
  [1m[36mRestaurant Load (19.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mMenuItem Load (986.3ms)[0m  SELECT "menu_items".* FROM "menu_items" INNER JOIN restaurants ON restaurants.id = menu_items.restaurant_id
Completed   in 32150ms


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:43:05 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
  [1m[36mRestaurant Load (18.6ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (1.6ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 153ms

NoMethodError (undefined method `menu_items' for #<Array:0x10380db68>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:43:07 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mRestaurant Load (11.9ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 38ms

NoMethodError (undefined method `menu_items' for #<Array:0x10375d470>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.5ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:43:08 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (12.6ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 37ms

NoMethodError (undefined method `menu_items' for #<Array:0x103707f20>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.5ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:43:25 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mRestaurant Load (12.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 36ms

NoMethodError (undefined method `menu_item' for #<Array:0x1036d1ad8>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.0ms)


Started GET "/,e" for 127.0.0.1 at Tue May 03 23:51:50 -0700 2011
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.5ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE

ActionController::RoutingError (No route matches "/,e"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/menu_items" for 127.0.0.1 at Tue May 03 23:51:51 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[36mRestaurant Load (18.9ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (1.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 153ms

NoMethodError (undefined method `menu_items' for #<Array:0x1037017b0>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:51:52 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mRestaurant Load (12.5ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 55ms

NoMethodError (undefined method `menu_items' for #<Array:0x10369bde8>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.7ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:51:54 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (11.9ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 36ms

NoMethodError (undefined method `menu_items' for #<Array:0x103631650>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.9ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:54:56 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (19.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (1.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Completed   in 157ms

NoMethodError (undefined method `menu_item' for #<Array:0x10380b688>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.1ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Tue May 03 23:55:06 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mRestaurant Load (12.2ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed   in 35ms

NoMethodError (undefined method `menu_items' for #<Array:0x103751648>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.3ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 00:01:22 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (92.3ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 398)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (318.6ms)
Completed 200 OK in 370ms (Views: 232.7ms | ActiveRecord: 106.6ms)


Started GET "/e" for 127.0.0.1 at Wed May 04 09:12:40 -0700 2011
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE

ActionController::RoutingError (No route matches "/e"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/emu" for 127.0.0.1 at Wed May 04 09:12:40 -0700 2011

ActionController::RoutingError (No route matches "/emu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/menu_items" for 127.0.0.1 at Wed May 04 09:12:41 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[36mRestaurant Load (38.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 asc LIMIT 2[0m
  [1m[35mSQL (1.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (104.2ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id IN (221,1837))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (4.2ms)
Completed   in 316ms

ActionView::Template::Error (undefined method `restaurant_id' for #<Restaurant:0x1036394b8>):
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
    18:     <td><%= menu_item.description %></td>
    19:     <td><%= menu_item.user_id %></td>
  app/views/menu_items/index.html.erb:16:in `_app_views_menu_items_index_html_erb___144548881_2174257260_0'
  app/views/menu_items/index.html.erb:14:in `each'
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2174257260_0'
  app/controllers/menu_items_controller.rb:18:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (71.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (77.4ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:12:42 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 asc LIMIT 2[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (134.4ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id IN (398,469))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (1.6ms)
Completed   in 277ms

ActionView::Template::Error (undefined method `restaurant_id' for #<Restaurant:0x103363900>):
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
    18:     <td><%= menu_item.description %></td>
    19:     <td><%= menu_item.user_id %></td>
  app/views/menu_items/index.html.erb:16:in `_app_views_menu_items_index_html_erb___144548881_2175696420_0'
  app/views/menu_items/index.html.erb:14:in `each'
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2175696420_0'
  app/controllers/menu_items_controller.rb:18:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:12:44 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (12.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 asc LIMIT 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (105.1ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id IN (398,469))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (1.5ms)
Completed   in 250ms

ActionView::Template::Error (undefined method `restaurant_id' for #<Restaurant:0x1031c8c30>):
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
    18:     <td><%= menu_item.description %></td>
    19:     <td><%= menu_item.user_id %></td>
  app/views/menu_items/index.html.erb:16:in `_app_views_menu_items_index_html_erb___144548881_2177621840_0'
  app/views/menu_items/index.html.erb:14:in `each'
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2177621840_0'
  app/controllers/menu_items_controller.rb:18:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:14:57 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (12.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 asc LIMIT 2[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (105.1ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id IN (398,469))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (1.6ms)
Completed   in 248ms

ActionView::Template::Error (undefined method `restaurant_id' for #<Restaurant:0x1031ae380>):
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
    18:     <td><%= menu_item.description %></td>
    19:     <td><%= menu_item.user_id %></td>
  app/views/menu_items/index.html.erb:16:in `_app_views_menu_items_index_html_erb___144548881_2176668980_0'
  app/views/menu_items/index.html.erb:14:in `each'
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2176668980_0'
  app/controllers/menu_items_controller.rb:18:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:16:14 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mRestaurant Load (20.2ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 asc LIMIT 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (105.7ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id IN (398,469))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (1.3ms)
Completed   in 290ms

ActionView::Template::Error (undefined method `restaurant_id' for #<Restaurant:0x10311ce80>):
    13: 
    14: <% @menu_items.each do |menu_item| %>
    15:   <tr>
    16:     <td><%= menu_item.restaurant_id %></td>
    17:     <td><%= menu_item.name %></td>
    18:     <td><%= menu_item.description %></td>
    19:     <td><%= menu_item.user_id %></td>
  app/views/menu_items/index.html.erb:16:in `_app_views_menu_items_index_html_erb___144548881_2176215240_0'
  app/views/menu_items/index.html.erb:14:in `each'
  app/views/menu_items/index.html.erb:14:in `_app_views_menu_items_index_html_erb___144548881_2176215240_0'
  app/controllers/menu_items_controller.rb:18:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:18:10 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (2.5ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mRestaurant Load (1406.9ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 2
Rendered menu_items/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 1538ms (Views: 27.2ms | ActiveRecord: 1411.7ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:18:26 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (7257.1ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc[0m
Completed   in 38968ms


Started GET "/restaurants" for 127.0.0.1 at Wed May 04 09:19:18 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.6ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (19.7ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (1.9ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (3.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (113.0ms)
Completed 200 OK in 258ms (Views: 115.7ms | ActiveRecord: 26.2ms)


Started GET "/restaurant" for 127.0.0.1 at Wed May 04 09:19:20 -0700 2011

ActionController::RoutingError (No route matches "/restaurant"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/r" for 127.0.0.1 at Wed May 04 09:19:22 -0700 2011

ActionController::RoutingError (No route matches "/r"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/menu_items" for 127.0.0.1 at Wed May 04 09:19:22 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (2.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mRestaurant Load (1382.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 50[0m
Rendered menu_items/index.html.erb within layouts/application (225.2ms)
Completed 200 OK in 1652ms (Views: 235.5ms | ActiveRecord: 1387.8ms)


Started GET "/menu_items/1.xml" for 127.0.0.1 at Wed May 04 09:19:24 -0700 2011
  Processing by MenuItemsController#show as XML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mMenuItem Load (0.4ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE "menu_items"."id" = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed 200 OK in 115ms (Views: 104.0ms | ActiveRecord: 3.0ms)


Started GET "/menu_items" for 127.0.0.1 at Wed May 04 09:19:24 -0700 2011
  Processing by MenuItemsController#index as HTML
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (1415.4ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 50[0m
Rendered menu_items/index.html.erb within layouts/application (158.6ms)
Completed 200 OK in 1606ms (Views: 167.1ms | ActiveRecord: 1417.6ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:19:26 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (1428.7ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 50
Rendered menu_items/index.html.erb within layouts/application (159.4ms)
Completed 200 OK in 1620ms (Views: 166.6ms | ActiveRecord: 1431.2ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 09:19:47 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (1424.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500[0m
Rendered menu_items/index.html.erb within layouts/application (1215.7ms)
Completed 200 OK in 2705ms (Views: 1222.4ms | ActiveRecord: 1426.2ms)


Started GET "/restaurants" for 127.0.0.1 at Wed May 04 09:20:43 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (12.4ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.6ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (107.3ms)
Completed 200 OK in 138ms (Views: 113.5ms | ActiveRecord: 13.8ms)


Started GET "/restaurants/" for 127.0.0.1 at Wed May 04 09:20:43 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (133.7ms)
Completed 200 OK in 163ms (Views: 139.5ms | ActiveRecord: 13.2ms)


Started GET "/restaurants/1" for 127.0.0.1 at Wed May 04 09:20:44 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.6ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/show.html.erb within layouts/application (98.3ms)
Completed 200 OK in 130ms (Views: 106.4ms | ActiveRecord: 3.7ms)


Started GET "/restaurants/16" for 127.0.0.1 at Wed May 04 09:20:44 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mSQL (0.6ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.6ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 16 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/show.html.erb within layouts/application (98.0ms)
Completed 200 OK in 117ms (Views: 104.8ms | ActiveRecord: 3.5ms)


Started GET "/restaurants/1609" for 127.0.0.1 at Wed May 04 09:20:44 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1609"}
  [1m[35mSQL (1.0ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (17.8ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1609 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/show.html.erb within layouts/application (92.8ms)
Completed 200 OK in 130ms (Views: 99.1ms | ActiveRecord: 21.5ms)


Started GET "/restaurants" for 127.0.0.1 at Wed May 04 11:29:10 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (19.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (1.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (115.7ms)
Completed 200 OK in 260ms (Views: 119.1ms | ActiveRecord: 24.3ms)


Started GET "/restaurants/1/" for 127.0.0.1 at Wed May 04 11:29:10 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (3.2ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.6ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/show.html.erb within layouts/application (90.5ms)
Completed 200 OK in 114ms (Views: 97.1ms | ActiveRecord: 7.0ms)


Started GET "/restaurants/1/me" for 127.0.0.1 at Wed May 04 11:29:11 -0700 2011

ActionController::RoutingError (No route matches "/restaurants/1/me"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants/1/menu" for 127.0.0.1 at Wed May 04 11:29:11 -0700 2011

ActionController::RoutingError (No route matches "/restaurants/1/menu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:29:12 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.6ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (1396.8ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500
Rendered menu_items/index.html.erb within layouts/application (1345.5ms)
Completed 200 OK in 2908ms (Views: 1352.8ms | ActiveRecord: 1400.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:29:15 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (1390.5ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500[0m
Rendered menu_items/index.html.erb within layouts/application (2266.4ms)
Completed 200 OK in 3797ms (Views: 2273.2ms | ActiveRecord: 1392.8ms)


Started GET "/restaurants" for 127.0.0.1 at Wed May 04 11:29:20 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[35mRestaurant Load (12.1ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/index.html.erb within layouts/application (176.4ms)
Completed 200 OK in 208ms (Views: 182.0ms | ActiveRecord: 13.6ms)


Started GET "/restaurants/" for 127.0.0.1 at Wed May 04 11:29:20 -0700 2011
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (12.0ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (0.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (120.1ms)
Completed 200 OK in 150ms (Views: 126.1ms | ActiveRecord: 13.5ms)


Started GET "/restaurants/1/" for 127.0.0.1 at Wed May 04 11:29:21 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/show.html.erb within layouts/application (118.3ms)
Completed 200 OK in 136ms (Views: 124.9ms | ActiveRecord: 3.0ms)


Started GET "/restaurants/1/menu" for 127.0.0.1 at Wed May 04 11:29:22 -0700 2011

ActionController::RoutingError (No route matches "/restaurants/1/menu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:29:24 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (1402.7ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500[0m
Rendered menu_items/index.html.erb within layouts/application (1333.6ms)
Completed 200 OK in 2886ms (Views: 1341.1ms | ActiveRecord: 1405.8ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:29:35 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (1404.4ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500
Rendered menu_items/index.html.erb within layouts/application (1236.2ms)
Completed 200 OK in 2797ms (Views: 1243.5ms | ActiveRecord: 1406.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:39:35 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 0ms

NoMethodError (undefined method `empty' for 0.0:Float):
  app/controllers/menu_items_controller.rb:10:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:40:27 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 0ms

NoMethodError (undefined method `empty' for nil:NilClass):
  app/controllers/menu_items_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:40:35 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 0ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:40:56 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 1ms

NoMethodError (undefined method `blank' for nil:NilClass):
  app/controllers/menu_items_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.5ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:41:30 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mMenuItem Load (794.5ms)[0m  [1mSELECT "menu_items".* FROM "menu_items"[0m
Completed   in 40273ms


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:42:20 -0700 2011
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (1.0ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mMenuItem Load (792.0ms)[0m  [1mSELECT "menu_items".* FROM "menu_items"[0m
  [1m[35mSQL (2.1ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (2.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered menu_items/index.html.erb within layouts/application (34288.5ms)
Completed   in 79937ms


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:44:48 -0700 2011
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.6ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mMenuItem Load (1020.2ms)[0m  [1mSELECT "menu_items".* FROM "menu_items"[0m
  [1m[35mSQL (2.2ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (2.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered menu_items/index.html.erb within layouts/application (211865.6ms)
Completed   in 260243ms


Started GET "/restaurants" for 127.0.0.1 at Wed May 04 11:57:03 -0700 2011
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (18.9ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.0)*COS(0.0)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.0)*SIN(0.0)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.0)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" ORDER BY distance asc LIMIT 25[0m
  [1m[35mSQL (1.7ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (2.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/index.html.erb within layouts/application (114.4ms)
Completed 200 OK in 259ms (Views: 117.7ms | ActiveRecord: 24.1ms)


Started GET "/restaurants/1/" for 127.0.0.1 at Wed May 04 11:57:03 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (2.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.7ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/show.html.erb within layouts/application (100.0ms)
Completed 200 OK in 122ms (Views: 106.3ms | ActiveRecord: 5.9ms)


Started GET "/restaurants/1/menu" for 127.0.0.1 at Wed May 04 11:57:04 -0700 2011

ActionController::RoutingError (No route matches "/restaurants/1/menu"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:57:06 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:2: syntax error, unexpected ':', expecting kEND
  before_filter: get_parent
                ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:57:19 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 1ms

NameError (undefined local variable or method `get_parent' for #<MenuItemsController:0x10320df38>):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (90.6ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:57:27 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 0ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:12:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:58:37 -0700 2011

SyntaxError (/Users/anandiyer/Documents/SWGH/crave-src/crave.20110502/app/controllers/menu_items_controller.rb:113: syntax error, unexpected kEND, expecting $end):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.5ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 11:59:19 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 0ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:17:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.1ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 12:01:21 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" IS NULL LIMIT 1
Completed   in 13ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 12:01:39 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
Completed   in 1ms

NameError (undefined local variable or method `restaurant_id' for #<MenuItemsController:0x1030764b8>):
  app/controllers/menu_items_controller.rb:110:in `get_restaurant'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 12:01:47 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" IS NULL LIMIT 1[0m
Completed   in 12ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 12:01:52 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (1.1ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" IS NULL LIMIT 1
Completed   in 109ms

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/restaurants/1/menu_items" for 127.0.0.1 at Wed May 04 12:02:26 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (3.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 1 LIMIT 1[0m
Completed   in 27ms

NoMethodError (undefined method `nil' for #<Restaurant:0x103266c00>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.6ms)


Started GET "/restaurants//menu_items" for 127.0.0.1 at Wed May 04 12:02:58 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"menu_items"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 0 LIMIT 1
Completed   in 10ms

ActiveRecord::RecordNotFound (Couldn't find Restaurant with ID=menu_items):
  app/controllers/restaurants_controller.rb:24:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/restaurants/9/menu_items" for 127.0.0.1 at Wed May 04 12:02:58 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"9"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.5ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 9 LIMIT 1[0m
Completed   in 156ms

NoMethodError (undefined method `nil' for #<Restaurant:0x10309d6f8>):
  app/controllers/menu_items_controller.rb:13:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started GET "/restaurants/9/menu_items" for 127.0.0.1 at Wed May 04 12:06:30 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"9"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 9 LIMIT 1
  [1m[36mMenuItem Load (90.0ms)[0m  [1mSELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 9)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered menu_items/index.html.erb within layouts/application (193.4ms)
Completed 200 OK in 304ms (Views: 109.0ms | ActiveRecord: 94.4ms)


Started GET "/restaurants//menu_items" for 127.0.0.1 at Wed May 04 12:06:40 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"menu_items"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 0 LIMIT 1
Completed   in 10ms

ActiveRecord::RecordNotFound (Couldn't find Restaurant with ID=menu_items):
  app/controllers/restaurants_controller.rb:24:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/restaurants/2000/menu_items" for 127.0.0.1 at Wed May 04 12:06:41 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"2000"}
  [1m[36mSQL (0.7ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (13.7ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1[0m
  [1m[35mMenuItem Load (97.6ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 2000)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (238.4ms)
Completed 200 OK in 295ms (Views: 146.9ms | ActiveRecord: 117.2ms)


Started GET "/restaurants/2000/menu_items/" for 127.0.0.1 at Wed May 04 12:06:50 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"2000"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1[0m
  [1m[35mMenuItem Load (86.2ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 2000)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (209.8ms)
Completed 200 OK in 246ms (Views: 129.8ms | ActiveRecord: 90.1ms)


Started GET "/restaurants/2000/menu_items." for 127.0.0.1 at Wed May 04 12:06:54 -0700 2011

ActionController::RoutingError (No route matches "/restaurants/2000/menu_items."):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/restaurants/2000/menu_items.json" for 127.0.0.1 at Wed May 04 12:06:54 -0700 2011
  Processing by MenuItemsController#index as JSON
  Parameters: {"restaurant_id"=>"2000"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1[0m
  [1m[35mMenuItem Load (86.8ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 2000)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Completed 200 OK in 212ms (Views: 96.9ms | ActiveRecord: 90.7ms)


Started GET "/restaurants/2000" for 127.0.0.1 at Wed May 04 12:07:02 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"2000"}
  [1m[36mSQL (1.0ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/show.html.erb within layouts/application (84.5ms)
Completed 200 OK in 103ms (Views: 90.1ms | ActiveRecord: 3.8ms)


Started GET "/restaurants/2000" for 127.0.0.1 at Wed May 04 12:07:02 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"2000"}
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/show.html.erb within layouts/application (92.8ms)
Completed 200 OK in 110ms (Views: 98.5ms | ActiveRecord: 3.0ms)


Started GET "/restaurants/2000/menu_items" for 127.0.0.1 at Wed May 04 12:07:44 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"2000"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 2000 LIMIT 1[0m
  [1m[35mMenuItem Load (87.2ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 2000)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (117.1ms)
Completed 200 OK in 335ms (Views: 122.7ms | ActiveRecord: 91.2ms)


Started GET "/menu_items" for 127.0.0.1 at Wed May 04 12:09:13 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 0ms

NoMethodError (undefined method `menu_items' for nil:NilClass):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/menu_items" for 127.0.0.1 at Wed May 04 12:09:19 -0700 2011
  Processing by MenuItemsController#index as HTML
Completed   in 0ms

NoMethodError (undefined method `menu_items' for nil:NilClass):
  app/controllers/menu_items_controller.rb:14:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.3ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:09:44 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (1432.4ms)[0m  [1mSELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500[0m
Rendered menu_items/index.html.erb within layouts/application (1260.8ms)
Completed 200 OK in 2837ms (Views: 1269.4ms | ActiveRecord: 1434.6ms)


Started GET "/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:09:47 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (1409.0ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500
Rendered menu_items/index.html.erb within layouts/application (1244.6ms)
Completed 200 OK in 2722ms (Views: 1251.6ms | ActiveRecord: 1411.5ms)


Started GET "/rmenu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:10:06 -0700 2011

ActionController::RoutingError (No route matches "/rmenu_items"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.7/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/restaurants/3menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:10:08 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"3menu_items", "lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
Rendered restaurants/show.html.erb within layouts/application (96.7ms)
Completed 200 OK in 115ms (Views: 102.6ms | ActiveRecord: 3.2ms)


Started GET "/restaurants/398menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:10:09 -0700 2011
  Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"398menu_items", "lat"=>"37.77864", "long"=>"-122.39139"}
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (21.5ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 398 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered restaurants/show.html.erb within layouts/application (93.5ms)
Completed 200 OK in 133ms (Views: 99.4ms | ActiveRecord: 24.1ms)


Started GET "/restaurants/398/menu_items?lat=37.77864&long=-122.39139" for 127.0.0.1 at Wed May 04 12:10:09 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"lat"=>"37.77864", "restaurant_id"=>"398", "long"=>"-122.39139"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.5ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 398 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'
  [1m[36mSQL (0.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mRestaurant Load (1434.7ms)[0m  SELECT *, 
 (ACOS(least(1,COS(0.659361654925631)*COS(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*COS(RADIANS(restaurants.longitude))+
 COS(0.659361654925631)*SIN(-2.13613273159246)*COS(RADIANS(restaurants.latitude))*SIN(RADIANS(restaurants.longitude))+
 SIN(0.659361654925631)*SIN(RADIANS(restaurants.latitude))))*3963.19)
 AS distance FROM "restaurants" INNER JOIN "menu_items" ON "menu_items"."restaurant_id" = "restaurants"."id" ORDER BY distance asc LIMIT 500
Rendered menu_items/index.html.erb within layouts/application (1265.5ms)
Completed 200 OK in 2855ms (Views: 1272.6ms | ActiveRecord: 1439.3ms)


Started GET "/restaurants/398/menu_items" for 127.0.0.1 at Wed May 04 12:10:19 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"398"}
  [1m[36mSQL (0.5ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 398 LIMIT 1[0m
  [1m[35mMenuItem Load (84.7ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 398)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (164.1ms)
Completed 200 OK in 371ms (Views: 170.5ms | ActiveRecord: 88.6ms)


Started GET "/restaurants/398/menu_items" for 127.0.0.1 at Wed May 04 12:10:19 -0700 2011
  Processing by MenuItemsController#index as HTML
  Parameters: {"restaurant_id"=>"398"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'restaurants'[0m
  [1m[35mSQL (0.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"restaurants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = 398 LIMIT 1[0m
  [1m[35mMenuItem Load (85.8ms)[0m  SELECT "menu_items".* FROM "menu_items" WHERE ("menu_items".restaurant_id = 398)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT * FROM geometry_columns WHERE f_table_name = 'menu_items'[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"menu_items"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
Rendered menu_items/index.html.erb within layouts/application (146.2ms)
Completed 200 OK in 361ms (Views: 152.0ms | ActiveRecord: 89.7ms)
